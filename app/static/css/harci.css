@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base / Theme ===== */
@layer base {
  :root {
    /* Fallback; HTML sets --brand-red inline from cfg.brandRed */
    --brand-red: #E60027;
  }
  html, body {
    height: 100%;
  }
}

/* ===== Layout Utilities ===== */
@layer utilities {
  /* Full-screen shell below header; only briefing scrolls */
  .conversation-shell{
    height: calc(var(--app-h, 100dvh) - var(--hdr, 0px));
    min-height: calc(var(--app-h, 100dvh) - var(--hdr, 0px));
    overflow: hidden; /* no page scroll */
  }

  /* Intended scroll surfaces */
  .scroll-area{
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-gutter: stable both-edges;
  }
}

/* ===== Components ===== */
@layer components {
  .card {
    @apply rounded-2xl border border-white/10 bg-neutral-900/40;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2.5
           border border-white/10 bg-white/5 text-white hover:bg-white/10
           transition duration-200 active:scale-[.99]
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-brand {
    @apply border-transparent text-white;
    background: var(--brand-red);
    /* subtle lift on hover without changing brand hue */
    filter: saturate(1);
  }
  .btn-brand:hover { filter: brightness(1.1); }

  .btn-outline {
    @apply border-white/30 bg-transparent hover:bg-white/10;
  }

  .btn-plain {
    @apply bg-transparent border-transparent text-white/70 hover:text-white hover:bg-white/10;
  }

  .btn-circle {
    @apply w-20 h-20 lg:w-24 lg:h-24 rounded-full border-0
           flex items-center justify-center shadow-lg
           active:scale-[.99] disabled:opacity-50;
    background: var(--brand-red);
  }
  .btn-circle:hover { filter: brightness(1.1); }

  .chip {
    @apply px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm
           hover:bg-white/10 whitespace-nowrap;
  }

  .input {
    @apply w-full rounded-2xl px-3 py-2.5
           bg-white/5 text-white placeholder-white/50
           border border-white/10
           focus:outline-none focus:ring-2 focus:ring-[var(--brand-red)] focus:border-transparent
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
}

/* ===== States / Effects ===== */
body.idle #remoteVideo {
  filter: brightness(.88) saturate(.95);
}


/* ===== Markdown-lite / Prose tweaks ===== */
.prose h1 { @apply text-xl font-bold mt-2 mb-1; }
.prose h2 { @apply text-lg font-semibold mt-2 mb-1; }
.prose h3 { @apply text-base font-semibold mt-2 mb-1; }
.prose ul { @apply list-disc ml-6; }
.prose p  { @apply leading-relaxed; }

/* ===== Media surfaces ===== */
#remoteVideo {
  @apply w-full h-full object-cover bg-black;
}
#briefImage {
  @apply w-full object-cover;
}

/* ===== Header chip (status) ===== */
#statusDot {
  /* color updated by JS; default ok-state */
  background: #10B981;
}

